quit=false;
while(quit==false) {
    if(i18n_getlang()=="English"){
        main_menu = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/JPLY_BBS_MAIN_MENU1BWENCOLOR.txt");
        rulz = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/RULZEN.txt");
        about = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/aboutEN.txt");
    } else
    if(i18n_getlang()=="Japanese"){
        main_menu = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/JPLY_BBS_MAIN_MENU1BWJPCOLOR.txt");
        rulz = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/RULZJP.txt");
        about = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/aboutJP.txt");
    } else
    if(i18n_getlang()=="Spanish"){
        main_menu = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/JPLY_BBS_MAIN_MENU1BWESCOLOR.txt");
        rulz = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/RULZES.txt");
        about = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/aboutES.txt");
    } else {
        throw new Error("INVALID LANGUAGE exception!");
    }
    await SLOWPRINT(main_menu,2);
    option = await INPUT();
    option = option.toUpperCase();
    COLOR(12,0);
    switch (option) {
        case "P":
          chatprg = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/scripts/chat.JS_BASIC");
          await LOAD(chatprg);
          await ((typeof IRC_CLIENT!=='undefined')?IRC_CLIENT:(typeof globalThis!=='undefined' && globalThis.IRC_CLIENT)?globalThis.IRC_CLIENT:(typeof window!=='undefined' && window.IRC_CLIENT)?window.IRC_CLIENT:null)("page sysop");     // page sysop
          break;
        case "B":
          // IMPORTANT: stop THIS loop before loading mail menu
          quit = true;
          var code = await CURL("https://amjp.psy-k.org/JPLY_BBS/scripts/proxy.php?url=" + encodeURIComponent(
            "https://amjp.psy-k.org/JPLY_BBS/scripts/forum_menu.JS_BASIC"
          ));
          await LOAD(code);
          break;
        case "W"://warez
            if(i18n_getlang()=="English"){
              OPENURLCONFIRMEN("https://amjp.psy-k.org/JPLY/en.php");
            } else
            if(i18n_getlang()=="Japanese"){
              OPENURLCONFIRMJP("https://amjp.psy-k.org/JPLY/jp.php");
            } else
            if(i18n_getlang()=="Spanish"){
              OPENURLCONFIRMES("https://amjp.psy-k.org/JPLY/es.php");
            } else {
                throw new Error("INVALID LANGUAGE exception!");
            }
          break;
        case "D":
          // IMPORTANT: stop THIS loop before loading mail menu
          quit = true;
          var code = await CURL("https://amjp.psy-k.org/JPLY_BBS/scripts/proxy.php?url=" + encodeURIComponent(
            "https://amjp.psy-k.org/JPLY_BBS/scripts/doorgames_menu.JS_BASIC"
          ));
          await LOAD(code);
          break;
        case "M":
          // IMPORTANT: stop THIS loop before loading mail menu
          quit = true;
          var code = await CURL("https://amjp.psy-k.org/JPLY_BBS/scripts/proxy.php?url=" + encodeURIComponent(
            "https://amjp.psy-k.org/JPLY_BBS/scripts/mail_menu.JS_BASIC"
          ));
          await LOAD(code);
          break;
        case "T":
          await SLOWPRINT("T selected!",2);
          
          mail_menu = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/scripts/mail_menu.JS_BASIC");
          await LOAD(mail_menu);
          break;
        case "T":
          await SLOWPRINT("T selected!",2);
          break;
        case "A":
          await MORE(about);
          await SLOWPRINT("************ PRESS ENTER ************",2)
          await INPUT();
          break;
        case "R":
          await MORE(rulz);
          await SLOWPRINT("************ PRESS ENTER ************",2)
          await INPUT();
          break;    
        case "C":
          chatprg = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/scripts/chat.JS_BASIC");
          await LOAD(chatprg);
          await ((typeof IRC_CLIENT!=='undefined')?IRC_CLIENT:(typeof globalThis!=='undefined' && globalThis.IRC_CLIENT)?globalThis.IRC_CLIENT:(typeof window!=='undefined' && window.IRC_CLIENT)?window.IRC_CLIENT:null)();                 // normal chat
          break;
        case "Q":
          await SLOWPRINT("\nGoodbye!\n",2);
          COLOR(3,14);
          await SLOWPRINT("\nDISCONECTED...\n");
          quit=true;
          break;
        case "G":
          graffiti_wall = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/scripts/graffiti_wall.JS_BASIC");
          await LOAD(graffiti_wall);
          //check for mail
          var code = await CURL("https://amjp.psy-k.org/JPLY_BBS/scripts/proxy.php?url=" + encodeURIComponent(
              "https://amjp.psy-k.org/JPLY_BBS/scripts/check_mail.JS_BASIC"
          ));
          LOAD(code);          
          break;
        case "U":
          //graffiti_wall = await CURL("https://amjp.psy-k.org/JPLY_BBS/utf8-art/JPLY_BBS/proxy.php?url=https://amjp.psy-k.org/JPLY_BBS/scripts/graffiti_wall.JS_BASIC");
          //await LOAD(graffiti_wall);
          //check for mail
          //quit = true;
          var code = await CURL("https://amjp.psy-k.org/JPLY_BBS/scripts/proxy.php?url=" + encodeURIComponent(
              "https://amjp.psy-k.org/JPLY_BBS/scripts/ascii_menu.JS_BASIC"
          ));
          await LOAD(code);          
          break;
        default:
          await SLOWPRINT("Invalid Option or not implemented yet...",2);
      }
}